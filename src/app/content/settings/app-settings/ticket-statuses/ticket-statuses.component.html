<h2>Manage Ticket Statuses</h2>
<div *ngIf="selectedTicketStatus" class="mb-3">
  Status ID#: {{ selectedTicketStatus.id }}<br />
  Created On: {{ selectedTicketStatus?.createdAt | date }}<br />
</div>
<section id="new-ticket-status">
    <form [formGroup]="ticketStatusForm" (ngSubmit)="onTicketStatusSubmit()">
        <mat-form-field class="ticket-statuses w-50"  appearance="outline">
            <mat-label>Name</mat-label>
            <input matInput formControlName="name" placeholder="My status name">
        </mat-form-field><br />
        <mat-form-field class="ticket-statuses w-50"  appearance="outline">
          <mat-label>Description</mat-label>
          <input matInput formControlName="description" placeholder="My status description">
      </mat-form-field>
        <div class="form-group">
            <button class="btn btn-secondary" type="button" (click)="goBack()">Back</button>
            &nbsp;<button class="btn btn-primary" type="submit" [disabled]="ticketStatusForm.pristine">{{ selectedTicketStatus?.id ? "Update" : "Add" }}</button>
            &nbsp;<button class="btn btn-danger" type="button" [hidden]="!selectedTicketStatus?.id" (click)="onTicketStatusDelete(); $event.stopPropagation()">Delete</button>
        </div>
    </form>
</section>
<br />
<section id="ticket-statuses">
    <table class="table table-hover">
        <thead>
          <tr>
            <th scope="col">Name</th>
            <th scope="col">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="let status of ticketStatusesData | async"
            routerLink="/settings/app/ticket-statuses/{{ status.id }}"
            routerLinkActive="active"
          >
            <td>{{ status.name }}</td>
            <td>{{ status.description }}</td>
          </tr>
        </tbody>
    </table>
</section>
