<div id="ticket-create" class="col-lg-8">
  <h1 class="h1">Submit a New Ticket</h1>
  <form [formGroup]="ticketCreateForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <mat-form-field>
        <mat-label>Categories:</mat-label>
        <mat-select formControlName="tagSelector" multiple required>
          <mat-option *ngFor="let category of categories" [value]="category.id">{{category.name}}</mat-option>
        </mat-select>
      </mat-form-field>
      <label>
        Description:
        <textarea type="text" formControlName="description" required class="form-control" rows="5"></textarea>
      </label>
      <button type="submit" [disabled]="!ticketCreateForm.valid" class="form-control">
        Submit Ticket
      </button>
      <div [hidden]="ticketCreateForm.valid" class="alert alert-danger fade in out">
        Category and Details fields required
      </div>
    </div>
  </form>
</div>

<!-- Success Modal -->
<div id="summary-modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Your ticket has been submitted successfully.</h4>
      </div>
      <div class="modal-body">
        <div *ngIf="ticket">
          Your ticket Id # is: {{ ticket.id }}<br /><br />
          Ticket Summary:<br />
          Ticket ID: {{ ticket.id }}<br />
          Ticket description:<br />
          {{ ticket.description }}
        </div>
      </div>
      <div class="modal-footer" style="text-align: center">
        <button type="button" class="btn btn-default" data-dismiss="modal">OK</button>
      </div>
    </div>

  </div>
</div>
